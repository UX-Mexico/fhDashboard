<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="img/favicon.ico">

    <script>   
    // Getting project list from Fusion Tables
    function queryProjects(){
      var fusiontable_project_names = "1lBd3QeR4-qv7FvYf3JMzyHJEgm0kAgMeEETtGINg"; // Table with project names and fusion tables ids
      var queryString = "SELECT project_name FROM " + fusiontable_project_names;
                       
      var query = new google.visualization.Query(
            'http://www.google.com/fusiontables/gvizdata?tq=' + 
            encodeURIComponent(queryString));   
            query.send(queryProjects2);
      return query;
      }

      function queryProjects2(response){
        var table = response.getDataTable();
        var rows = table.getNumberOfRows();
        var list = []; 
        for (var i = 0; i < rows; i++){                
            var opt = table.getValue(i, 0);
            list.push(opt);
          }
        return list;
        }   
    </script>

    <!-- Google Maps API -->
    <!-- Drop the watermarks... -->
    <style>
    .gmnoprint a, .gmnoprint span {
      display:none;
      }
    .gmnoprint div {
      background:none !important;
      }
    img[src="http://maps.gstatic.com/mapfiles/api-3/images/google_white2.png"], a[href^="http://maps.google.com/maps"]{
      display:none !important;
      }
    </style>
    <!-- Embedding map canvas -->
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&libraries=visualization"></script> 
    <script type="text/javascript" src="http://www.google.com/jsapi"></script>
    <script type="text/javascript">
    google.load('visualization', '1', {packages: ['corechart']});
    var map;
    var layer_0;
    var context;
    var particles;
    var pointArray=[];
    function initialize() { 
      var latlng = new google.maps.LatLng(22.208605, -103.057424); 
      var myOptions = { 
        zoom: 6, 
        center: latlng, 
        disableDefaultUI: true,
        navigationControl: false,
        mapTypeControl: false,
        streetViewControl: false,
        mapTypeId: google.maps.MapTypeId.ROADMAP,
        styles: [
          {
              "elementType": "labels.text",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "landscape.natural",
              "elementType": "geometry.fill",
              "stylers": [
                  {
                      "color": "#f5f5f2"
                  },
                  {
                      "visibility": "on"
                  }
              ]
          },
          {
              "featureType": "administrative",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "transit",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "poi.attraction",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "landscape.man_made",
              "elementType": "geometry.fill",
              "stylers": [
                  {
                      "color": "#ffffff"
                  },
                  {
                      "visibility": "on"
                  }
              ]
          },
          {
              "featureType": "poi.business",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "poi.medical",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "poi.place_of_worship",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "poi.school",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "poi.sports_complex",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "road.highway",
              "elementType": "geometry",
              "stylers": [
                  {
                      "color": "#ffffff"
                  },
                  {
                      "visibility": "simplified"
                  }
              ]
          },
          {
              "featureType": "road.arterial",
              "stylers": [
                  {
                      "visibility": "simplified"
                  },
                  {
                      "color": "#ffffff"
                  }
              ]
          },
          {
              "featureType": "road.highway",
              "elementType": "labels.icon",
              "stylers": [
                  {
                      "color": "#ffffff"
                  },
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "road.highway",
              "elementType": "labels.icon",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "road.arterial",
              "stylers": [
                  {
                      "color": "#ffffff"
                  }
              ]
          },
          {
              "featureType": "road.local",
              "stylers": [
                  {
                      "color": "#ffffff"
                  }
              ]
          },
          {
              "featureType": "poi.park",
              "elementType": "labels.icon",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "poi",
              "elementType": "labels.icon",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "water",
              "stylers": [
                  {
                      "color": "#71c8d4"
                  }
              ]
          },
          {
              "featureType": "landscape",
              "stylers": [
                  {
                      "color": "#e5e8e7"
                  }
              ]
          },
          {
              "featureType": "poi.park",
              "stylers": [
                  {
                      "color": "#8ba129"
                  }
              ]
          },
          {
              "featureType": "road",
              "stylers": [
                  {
                      "color": "#ffffff"
                  }
              ]
          },
          {
              "featureType": "poi.sports_complex",
              "elementType": "geometry",
              "stylers": [
                  {
                      "color": "#c7c7c7"
                  },
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "water",
              "stylers": [
                  {
                      "color": "#a0d3d3"
                  }
              ]
          },
          {
              "featureType": "poi.park",
              "stylers": [
                  {
                      "color": "#91b65d"
                  }
              ]
          },
          {
              "featureType": "poi.park",
              "stylers": [
                  {
                      "gamma": 1.51
                  }
              ]
          },
          {
              "featureType": "road.local",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "road.local",
              "elementType": "geometry",
              "stylers": [
                  {
                      "visibility": "on"
                  }
              ]
          },
          {
              "featureType": "poi.government",
              "elementType": "geometry",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "landscape",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "road",
              "elementType": "labels",
              "stylers": [
                  {
                      "visibility": "off"
                  }
              ]
          },
          {
              "featureType": "road.arterial",
              "elementType": "geometry",
              "stylers": [
                  {
                      "visibility": "simplified"
                  }
              ]
          },
          {
              "featureType": "road.local",
              "stylers": [
                  {
                      "visibility": "simplified"
                  }
              ]
          },
          {
              "featureType": "road"
          },
          {
              "featureType": "road"
          },
          {},
          {
              "featureType": "road.highway"
          }
      ]
      };
      map = new google.maps.Map(document.getElementById("map-canvas"), myOptions);
      layer_0 = new google.maps.FusionTablesLayer({
        query: {
          select: "col2",
          from: "1qOfdNY9y-Qt7dVDzWNRpW7deT1JuUk8X0ORvlqqZ" // We need to make this global or interchangeable...
        },
        map: map,
        styleId: 2,
        templateId: 2
      });                
    }
    google.maps.event.addDomListener(window, 'load', initialize);
    </script>

    <script type="text/javascript" src="http://www.google.com/jsapi"></script>
    <script type="text/javascript">
        google.load('visualization', '1', { packages: ['corechart'] });
        
        // SUMMARY CHARTS powered by Google Charts API
        // Settings     
        function drawVisualization() {
           
          var fusiontable_triplog = "1K7_OxNvqpfenqFx9zlBVb0R9nxiqTD2xreRPFE8e";
          var fusiontable_survey = "1KGt7nGOtN9QOchPFfjF_tN4emt4Yc-SEOsMqDEvm";
          var url_triplog = 'http://www.google.com/fusiontables/gvizdata?tq=' + encodeURIComponent("SELECT * FROM " + fusiontable_triplog);
          var url_survey = 'http://www.google.com/fusiontables/gvizdata?tq=' + encodeURIComponent("SELECT * FROM " + fusiontable_survey);

          var queryText = encodeURIComponent("SELECT count(SurveyID) FROM 1KGt7nGOtN9QOchPFfjF_tN4emt4Yc-SEOsMqDEvm");
        
          // Chart 1
          google.visualization.drawChart({
            "containerId": "chart1",
            "dataSourceUrl": 'https://www.google.com/fusiontables/gvizdata?tq=',
            "query":"SELECT count(q2), count(q3), count(q1) FROM " + fusiontable_triplog,
            "refreshInterval": 5,
            "chartType": "BarChart",
            "color": "green", //#99E699,
            "options": {
              "title":"Example Title Placeholder",
              "vAxis": {"title": "Example Y-Axis"},
              "hAxis": {"title": "Example X-Axis"},
              "colors": ["#C2F0C2"], // Pastel green
              }
            });
        
          // Chart 2
          google.visualization.drawChart({
            "containerId": "chart2",
            "dataSourceUrl": 'https://www.google.com/fusiontables/gvizdata?tq=',
            "query":"SELECT Username, count(q1) FROM " + fusiontable_survey + " GROUP BY Username ORDER BY count(q1) DESC",
            "refreshInterval": 5,
            "chartType": "ColumnChart",
            "color": "green", //#99E699,
            "options": {
              "title":"Example Title Placeholder",
              "vAxis": {"title": "Example Y-Axis"},
              "hAxis": {"title": "Example X-Axis"},
              "colors": ["#C2F0C2"], // Pastel green
              }
            });
        
          // Chart 3
          google.visualization.drawChart({
            "containerId": "chart3",
            "dataSourceUrl": 'https://www.google.com/fusiontables/gvizdata?tq=',
            "query":"SELECT Username, count(q1) FROM " + fusiontable_survey + " GROUP BY Username ORDER BY count(q1) DESC",
            "refreshInterval": 5,
            "chartType": "ColumnChart",
            "color": "green", //#99E699,
            "options": {
              "title":"Example Title Placeholder",
              "vAxis": {"title": "Example Y-Axis"},
              "hAxis": {"title": "Example X-Axis"},
              "colors": ["#C2F0C2"], // Pastel green
              }
            });
        
          // Chart 4
          google.visualization.drawChart({
            "containerId": "chart4",
            "dataSourceUrl": 'https://www.google.com/fusiontables/gvizdata?tq=',
            "query":"SELECT Username, count(q1) FROM " + fusiontable_survey + " GROUP BY Username ORDER BY count(q1) DESC",
            "refreshInterval": 5,
            "chartType": "ColumnChart",
            "color": "green", //#99E699,
            "options": {
              "title":"Example Title Placeholder",
              "vAxis": {"title": "Example Y-Axis"},
              "hAxis": {"title": "Example X-Axis"},
              "colors": ["#C2F0C2"], // Pastel green
              }
            });
        
          // Chart 5
          google.visualization.drawChart({
            "containerId": "chart5",
            "dataSourceUrl": 'https://www.google.com/fusiontables/gvizdata?tq=',
            "query":"SELECT Date, count(SurveyID) FROM " + fusiontable_survey + " GROUP BY Date ORDER BY Date ASC",
            "refreshInterval": 5,
            "chartType": "LineChart",
            "color": "green", //#99E699,
            "options": {
              "title":"Example Title Placeholder",
              "vAxis": {"title": "Example Y-Axis"},
              "hAxis": {"title": "Example X-Axis"},
              "colors": ["#C2F0C2"], // Pastel green
              }
            });
        
          // Chart 6
          google.visualization.drawChart({
            "containerId": "chart6",
            "dataSourceUrl": 'https://www.google.com/fusiontables/gvizdata?tq=',
            "query":"SELECT Username, count(q1) FROM " + fusiontable_survey + " GROUP BY Username ORDER BY count(q1) DESC",
            "refreshInterval": 5,
            "chartType": "ColumnChart",
            "color": "green", //#99E699,
            "options": {
              "title":"Example Title Placeholder",
              "vAxis": {"title": "Example Y-Axis"},
              "hAxis": {"title": "Example X-Axis"},
              "colors": ["#C2F0C2"], // Pastel green
              }
            });
        }
        google.setOnLoadCallback(drawVisualization);
        </script>

    <!-- Base Bootstrap Content -->
    <title>Fundaci√≥n Hogares + Flocktracker</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="css/theme.css" rel="stylesheet">
    <script src="js/ie-emulation-modes-warning.js"></script>
    <script src="js/ie10-viewport-bug-workaround.js"></script>

  </head>

  <body role="document">

    <!-- Fixed navbar -->
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">FH Flocktracker Dashboard</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Tijuana</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Site Select<span class="caret"></span></a>
              <ul class="dropdown-menu" id="projectSelectorDropdown">

                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>

              </ul>
            </li>         
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div id="map-canvas"></div>

    <div class="container theme-showcase" role="main">

      <div class="page-header">
        <h1>Visual Statistics</h1>
      </div>
      <div class="row">

        <div class="col-sm-4">
          <div class="panel panel-success">
            <div class="panel-heading">
              <h3 class="panel-title">Chart One</h3>
            </div>
            <div class="panel-body">
              <div id="chart1"
                style=  "width: 325px; 
                        height: 250px;
                        float: left;
                        z-index: 2;
                        position: relative;">
              </div>
            </div>
          </div>
          
          <div class="panel panel-success">
            <div class="panel-heading">
              <h3 class="panel-title">Chart Two</h3>
            </div>
            <div class="panel-body">
              <div id="chart2"
                style=  "width: 325px; 
                        height: 250px;
                        float: left;
                        z-index: 2;
                        position: relative;">
              </div>
            </div>
          </div>
        </div><!-- /.col-sm-4 -->

        <div class="col-sm-4">
          <div class="panel panel-success">
            <div class="panel-heading">
              <h3 class="panel-title">Chart Three</h3>
            </div>
            <div class="panel-body">
              <div id="chart3"
                style=  "width: 325px; 
                        height: 250px;
                        float: left;
                        z-index: 2;
                        position: relative;">
              </div>
            </div>
          </div>
          
          <div class="panel panel-success">
            <div class="panel-heading">
              <h3 class="panel-title">Chart Four</h3>
            </div>
            <div class="panel-body">
              <div id="chart4"
                style=  "width: 325px; 
                        height: 250px;
                        float: left;
                        z-index: 2;
                        position: relative;">
              </div>
            </div>
          </div>
        </div><!-- /.col-sm-4 -->

        <div class="col-sm-4">
          <div class="panel panel-success">
            <div class="panel-heading">
              <h3 class="panel-title">Chart Five</h3>
            </div>
            <div class="panel-body">
              <div id="chart5"
                style=  "width: 325px; 
                        height: 250px;
                        float: left;
                        z-index: 2;
                        position: relative;">
              </div>
            </div>
          </div>
          
          <div class="panel panel-success">
            <div class="panel-heading">
              <h3 class="panel-title">Chart Six</h3>
            </div>
            <div class="panel-body">
              <div id="chart6"
                style=  "width: 325px; 
                        height: 250px;
                        float: left;
                        z-index: 2;
                        position: relative;">
              </div>
            </div>
          </div>
        </div><!-- /.col-sm-4 -->

      </div><!-- /.row -->
    </div>


  <br>
  <br>
  <br>

  <hr>

  <br>
  <br>
  <br>

  <div><table align="center"><tr><td><a href="http://www.dusp.mit.edu"><img src="./img/partner_logos-01.png" style="opacity:0.4"/></a></td><td><a href="http://www.urbanlaunchpad.org/"><img src="./img/partner_logos-02.png" style="opacity:0.4"/></a></td><td><a href="http://smart.mit.edu/"><img src="./img/partner_logos-03.png" style="opacity:0.4"/></a></td><td><a href="http://smart.mit.edu/research/future-urban-mobility/future-urban-mobility.html"><img src="./img/partner_logos-04.png" style="opacity:0.4"/></a></td><td><a href="http://misti.mit.edu/mit-mexico"><img src="./img/partner_logos-05.png" style="opacity:0.4"/></a></td><td><a href="http://www.grupoprodi.com/"><img src="./img/partner_logos-06.png" style="opacity:0.4"/></a></td></tr></table></div>
  <center>Some of our past and current partners.</center><br>

  <br>
  <br>
  <br>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/docs.min.js"></script>
  </body>
</html>